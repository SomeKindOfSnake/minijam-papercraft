[gd_scene load_steps=15 format=3 uid="uid://cdxv5llr2ailp"]

[ext_resource type="Script" path="res://Scripts/Crystal.gd" id="1_co44s"]
[ext_resource type="PackedScene" uid="uid://dqiq0baphhdsr" path="res://Import/Objects/crystal.glb" id="2_ewhrj"]
[ext_resource type="AudioStream" uid="uid://dveqn7jnnaowj" path="res://SFX/CrystalPing_01.ogg" id="2_g1ocl"]
[ext_resource type="Material" uid="uid://dv6e1xbdgsy8b" path="res://Materials/items.tres" id="3_4xyuq"]
[ext_resource type="AudioStream" uid="uid://dldldslcubseq" path="res://SFX/CrystalPing_02.ogg" id="3_5ig7x"]
[ext_resource type="AudioStream" uid="uid://eu70fq4rjt80" path="res://SFX/CrystalPing_03.ogg" id="4_d61g8"]
[ext_resource type="AudioStream" uid="uid://bb0k54aja24ho" path="res://SFX/CrystalPing_04.ogg" id="5_dain3"]
[ext_resource type="AudioStream" uid="uid://drxyo36k5r065" path="res://SFX/CrystalPing_05.ogg" id="6_m3kjs"]
[ext_resource type="AudioStream" uid="uid://c0axeg2e82f48" path="res://SFX/CrystalPing_06.ogg" id="7_jvro4"]

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_t66f6"]
points = PackedVector3Array(-0.425048, -0.100611, -2.03848e-05, -0.411065, -0.161456, -0.0285113, -0.412076, -0.161805, 0.028863, -0.252445, 0.147301, 0.328764, -0.254383, 0.156541, 0.324212, -0.229785, 0.242665, 0.285203, -0.29945, 0.171883, 0.0783102, -0.312001, 0.158808, 0.0402437, -0.323458, 0.148173, -2.03848e-05, -0.299955, 0.0819234, -0.229753, -0.263312, 0.0540289, -0.307691, -0.329944, -0.346606, -0.0326712, -0.370799, -0.253682, 0.0305113, -0.3879, -0.126414, 0.0743073, -0.262133, 0.0542033, 0.306709, -0.23585, 0.0904661, 0.35231, -0.223131, 0.183913, 0.373973, -0.2249, 0.19263, 0.369891, -0.202324, 0.284507, 0.327665, 0.00254217, 0.891561, -2.03848e-05, -0.269883, 0.272478, -2.03848e-05, -0.0851493, 0.631445, -0.140278, -0.282855, 0.184087, -0.114534, -0.273421, 0.118361, -0.27559, -0.219424, 0.190189, -0.365772, -0.20881, 0.127078, -0.39756, -0.191205, -0.00123703, -0.355098, -0.267103, -0.333704, -0.106528, -0.283108, -0.436565, -0.0322787, -0.284034, -0.437088, -0.0230957, -0.284624, -0.437437, -0.0154039, -0.329691, -0.346431, -0.0230957, -0.326406, -0.344862, 0.0311392, -0.195248, -0.539949, 0.0716387, -0.19828, -0.137397, 0.276962, -0.207715, 0.127252, 0.395714, -0.217992, 0.19263, 0.374522, -0.193058, 0.284681, 0.334179, 0.0504734, 0.886854, 0.0305898, 0.0492941, 0.884064, -0.0288253, -0.0335958, 0.627435, -0.171987, -0.0411772, 0.628132, -0.16767, -0.0657746, 0.630399, -0.152993, -0.0719239, 0.630922, -0.149304, -0.0779891, 0.631445, -0.145458, -0.187077, 0.284507, 0.338104, -0.172841, 0.188097, -0.393871, -0.190615, 0.157936, -0.395833, -0.195164, 0.150265, -0.396304, -0.0896139, 0.453094, -0.263817, -0.125668, 0.149568, -0.396853, 0.0186316, 0.0322363, -0.403368, 0.0132403, 0.023345, -0.403603, -0.00891417, -0.0157073, -0.404388, -0.0133788, -0.0233783, -0.40431, -0.0186857, -0.0322696, -0.403054, -0.0276992, -0.252636, -0.307613, -0.0700707, -0.760141, -0.0760748, -0.0485901, -0.882354, -0.027648, -0.0490955, -0.883574, 0.0283136, -0.237283, -0.527048, 0.0321595, -0.165007, -0.522864, 0.111667, -0.142347, -0.70627, 0.0307467, -0.0709131, -0.760839, 0.0773683, -0.111684, -0.508045, 0.170925, -0.170229, -0.127285, 0.307337, -0.173262, 0.189317, 0.39744, -0.0638371, -0.0849205, 0.363377, -0.0177591, -0.0312236, 0.397126, -0.21159, 0.192281, 0.37774, -0.180843, 0.284158, 0.341714, 0.422636, 0.165258, -0.00771216, 0.375125, 0.255741, -0.0325142, -0.174357, 0.283461, 0.344775, -0.154898, 0.281195, 0.354037, -0.145716, 0.280149, 0.358118, -0.00798756, 0.230636, 0.334729, 0.0583075, 0.253474, 0.30145, 0.0876222, 0.252428, 0.290854, 0.150464, 0.253823, 0.261657, 0.285497, 0.21634, 0.149106, 0.41994, 0.164038, 0.0318455, 0.42053, 0.164386, 0.023055, 0.42154, 0.164909, 0.00767139, 0.110282, 0.506966, -0.168926, 0.0829892, 0.47262, -0.196632, 0.0142512, 0.475584, -0.223003, -0.0104304, 0.423979, -0.255497, -0.0338485, 0.479768, -0.238387, 0.355498, 0.215643, -0.0778015, 0.143219, 0.469134, -0.157309, 0.0231804, 0.11313, -0.37056, 0.189803, 0.000157714, -0.353057, 0.207071, -0.12746, -0.394891, 0.0292455, -0.0716706, -0.401641, 0.0188843, -0.154482, -0.36483, -0.0228134, -0.799368, -0.0753684, 0.0267184, -0.805295, -0.0467204, -0.00394413, -0.889502, -2.03848e-05, 0.0210744, -0.805644, 0.0521738, -0.0157374, -0.801809, 0.0743858, -0.0225607, -0.801111, 0.0784671, 0.0558646, -0.397687, 0.279474, 0.017705, 0.031016, 0.397205, 0.0788615, -0.316793, 0.319188, 0.145494, -0.278787, 0.355371, 0.173123, -0.18935, 0.396813, 0.428111, 0.143117, 0.0140289, 0.427858, 0.145035, 0.00916266, 0.425837, 0.153403, -2.03848e-05, 0.424489, 0.15811, -0.00677031, 0.422299, 0.165084, -0.0154039, 0.42154, 0.164909, -0.0230957, 0.420698, 0.164386, -0.0322003, 0.207661, -0.127285, 0.395792, 0.0261287, 0.18583, 0.339909, 0.428448, 0.139979, 0.0207003, 0.29729, -0.0664403, -0.237602, 0.298975, -0.07446, -0.233756, 0.300491, -0.0823054, -0.229989, 0.217517, -0.189525, -0.364359, 0.172534, -0.187607, -0.392066, 0.117105, -0.363342, -0.304787, 0.058139, -0.77095, -2.03848e-05, 0.163857, -0.365086, -0.274413, 0.0282347, -0.806341, 0.0477785, 0.0986574, -0.455743, 0.261971, 0.0897282, -0.455045, 0.266994, 0.163689, -0.371013, 0.286067, 0.153159, -0.27931, 0.351133, 0.222487, -0.191791, 0.368086, 0.430217, 0.135969, 0.0110464, 0.427606, 0.146778, 0.00453189, 0.435524, 0.0993574, -2.03848e-05, 0.433418, 0.108074, -0.00480813, 0.430638, 0.132133, 0.0170114, 0.169164, -0.429243, -0.151972, 0.175988, -0.404487, 0.207422, 0.172365, -0.371188, 0.280416, 0.43426, 0.108249, 0.00500283, 0.432154, 0.124288, 0.013087)

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_xy7fx"]
random_pitch = 1.92
streams_count = 6
stream_0/stream = ExtResource("2_g1ocl")
stream_1/stream = ExtResource("3_5ig7x")
stream_2/stream = ExtResource("4_d61g8")
stream_3/stream = ExtResource("5_dain3")
stream_4/stream = ExtResource("6_m3kjs")
stream_5/stream = ExtResource("7_jvro4")

[sub_resource type="Animation" id="Animation_ecbwf"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("crystal:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 1.5708, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("crystal:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0, 0)]
}

[sub_resource type="Animation" id="Animation_mbpra"]
resource_name = "magic_happening"
length = 2.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("crystal:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.433333, 1.53333),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector3(0, 1.5708, 0), Vector3(0, 2.0944, 0), Vector3(0, 7.85398, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("crystal:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.233333, 0.433333, 0.933333, 1.53333, 1.66667, 1.9),
"transitions": PackedFloat32Array(1, 0.554785, 2, 0.784584, 1.86607, 0.554785, 1),
"update": 0,
"values": [Vector3(0, 0, 0), Vector3(0, 1.27192, 0), Vector3(0, 1.09446, 0), Vector3(0, 1.11201, 0), Vector3(0, 1.09446, 0), Vector3(0, 1.27192, 0), Vector3(0, 0, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_qmveq"]
_data = {
"RESET": SubResource("Animation_ecbwf"),
"magic_happening": SubResource("Animation_mbpra")
}

[node name="Crystal" type="RigidBody3D" node_paths=PackedStringArray("base_node", "base_collision_shape")]
collision_layer = 7
collision_mask = 6
script = ExtResource("1_co44s")
base_node = NodePath("crystal")
base_collision_shape = NodePath("CollisionShape3D")
base_scale = 1.0
picked_scale = 0.5
rotation_impulse_range = Vector3(100, 10, 100)

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(-3.61999e-06, 0, 1, 0, 1, 0, -1, 0, -3.61999e-06, 0, 0, 0)
shape = SubResource("ConvexPolygonShape3D_t66f6")

[node name="crystal" parent="." instance=ExtResource("2_ewhrj")]
transform = Transform3D(-3.61999e-06, 0, 1, 0, 1, 0, -1, 0, -3.61999e-06, 0, 0, 0)

[node name="crystal_low" parent="crystal" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0)
surface_material_override/0 = ExtResource("3_4xyuq")

[node name="AudioStreamPlayer3D" type="AudioStreamPlayer3D" parent="."]
stream = SubResource("AudioStreamRandomizer_xy7fx")
volume_db = 71.856
max_polyphony = 5

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
deterministic = true
libraries = {
"": SubResource("AnimationLibrary_qmveq")
}

[connection signal="picked_up" from="." to="AudioStreamPlayer3D" method="play"]
[connection signal="animation_finished" from="AnimationPlayer" to="." method="_on_animation_player_animation_finished"]

[editable path="crystal"]
